webpackJsonp([1],{"/s/H":function(t,e){},"3rbR":function(t,e){},"5TTs":function(t,e){},"5oSM":function(t,e){},"6v+C":function(t,e){},"7HaI":function(t,e){},"9+aN":function(t,e){},"9q8W":function(t,e){},B3Yc:function(t,e){},BjrA:function(t,e){},FB5a:function(t,e){},FTPN:function(t,e){},HHep:function(t,e){},IXJz:function(t,e){},KLSe:function(t,e){},NHnr:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o("7+uW"),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=o("VU/8")({name:"App"},r,!1,function(t){o("vGjf")},null,null).exports,n=o("/ocq"),a={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"hello"},[o("h1",[t._v(t._s(t.msg))]),t._v(" "),o("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),o("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ul",[o("li",[o("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("\n        Core Docs\n      ")])]),t._v(" "),o("li",[o("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("\n        Forum\n      ")])]),t._v(" "),o("li",[o("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[t._v("\n        Community Chat\n      ")])]),t._v(" "),o("li",[o("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("\n        Twitter\n      ")])]),t._v(" "),o("br"),t._v(" "),o("li",[o("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("\n        Docs for This Template\n      ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};o("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},a,!1,function(t){o("Ugm9")},"data-v-694cd902",null).exports;var c={data:function(){return{form:{username:"",password:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},computed:{myName:function(){return this.$store.state.username}},methods:{submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!"),!1;e.$axios.post("/api/user/checkUser",{username:e.form.username,password:e.form.password}).then(function(t){var o=t.data;"Refuse!"!=o?(console.log(o),e.$router.push({path:"/sale/goods-sale"})):e.$message.error("账号或密码错误!")})})},resetForm:function(t){this.$refs[t].resetFields()}}},d={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"form-body"}},[o("el-col",{attrs:{span:12,offset:6}},[o("el-button",{staticStyle:{"font-size":"25px","font-weight":"bold"},attrs:{type:"text"}},[t._v("用户登录")])],1),t._v(" "),o("el-form",{ref:"form",staticClass:"demo-ruleForm",attrs:{model:t.form,rules:t.rules,"label-width":"80px"}},[o("el-col",{attrs:{span:12,offset:6}},[o("el-form-item",{attrs:{label:"用户名",prop:"username"}},[o("el-input",{model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1)],1),t._v(" "),o("el-col",{attrs:{span:12,offset:6}},[o("el-form-item",{attrs:{label:"密码",prop:"password"}},[o("el-input",{attrs:{type:"password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)],1),t._v(" "),o("el-col",{attrs:{span:12,offset:6}},[o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("form")}}},[t._v("立即创建")]),t._v(" "),o("el-button",{on:{click:function(e){t.resetForm("form")}}},[t._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var l=o("VU/8")(c,d,!1,function(t){o("zR73")},null,null).exports,u={data:function(){return{goodsNameStyle:"none",discount:1,rank:0}},props:{goodsDetails:{type:Object},height:{type:String,default:"75%"},width:{type:String,default:"75%"}},computed:{realPrice:function(){return(this.goodsDetails.goods_price*this.$store.getters.getDiscountById(this.goodsDetails.goods_id)).toFixed(2)}},created:function(){this.rank=1*(1*this.goodsDetails.rank).toFixed(2)},methods:{enter:function(){this.goodsNameStyle="underline"},leave:function(){this.goodsNameStyle="none"},addToCart:function(){this.$store.dispatch("addOneItem",this.goodsDetails.goods_id)},gotoGoodsDetails:function(){this.$router.push({path:"/sale/goods/"+this.goodsDetails.goods_id})},isDiscount:function(){return this.$store.getters.isDiscount(this.goodsDetails.goods_id)}}},m={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{style:{cursor:"pointer",height:t.height,width:t.width},on:{mouseenter:t.enter,mouseleave:t.leave,click:t.gotoGoodsDetails}},[o("el-card",{staticClass:"box-card"},[o("img",{attrs:{src:JSON.parse(t.goodsDetails.goods_image)[0].src}}),t._v(" "),t.isDiscount()?o("p",{staticStyle:{color:"red"}},[o("s",{staticStyle:{color:"black"}},[t._v("￥"+t._s(t.goodsDetails.goods_price))]),t._v(" "),o("b",[t._v("￥"+t._s(t.realPrice))])]):o("p",{staticStyle:{color:"red"}},[o("b",[t._v("￥"+t._s(t.goodsDetails.goods_price))])]),t._v(" "),o("p",{style:{textDecoration:t.goodsNameStyle}},[t._v(t._s(t.goodsDetails.goods_name))]),t._v(" "),o("el-button",{attrs:{round:""},on:{click:function(e){return e.stopPropagation(),t.addToCart(e)}}},[t._v("加入购物车")])],1)],1)},staticRenderFns:[]};var p=o("VU/8")(u,m,!1,function(t){o("aj2/")},null,null).exports,g={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-row",[o("el-popover",{attrs:{placement:"top",width:"400",trigger:"click"},model:{value:t.seem,callback:function(e){t.seem=e},expression:"seem"}},[o("el-collapse",{on:{change:t.handleChange}},[o("el-collapse-item",{attrs:{title:"折扣",name:"1"}},[o("el-radio",{attrs:{label:"1"},model:{value:t.filterOption.discount,callback:function(e){t.$set(t.filterOption,"discount",e)},expression:"filterOption.discount"}},[t._v("所有商品")]),t._v(" "),o("el-radio",{attrs:{label:"2"},model:{value:t.filterOption.discount,callback:function(e){t.$set(t.filterOption,"discount",e)},expression:"filterOption.discount"}},[t._v("打折商品")]),t._v(" "),o("el-radio",{attrs:{label:"3"},model:{value:t.filterOption.discount,callback:function(e){t.$set(t.filterOption,"discount",e)},expression:"filterOption.discount"}},[t._v("未打折商品")])],1),t._v(" "),o("el-collapse-item",{attrs:{title:"价格区间(元)",name:"2"}},[o("el-col",{attrs:{span:8,offset:2}},[o("el-input",{attrs:{placeholder:"最低价"},model:{value:t.filterOption.price.minPrice,callback:function(e){t.$set(t.filterOption.price,"minPrice",e)},expression:"filterOption.price.minPrice"}})],1),t._v(" "),o("el-col",{attrs:{span:8,offset:4}},[o("el-input",{attrs:{placeholder:"最高价"},model:{value:t.filterOption.price.maxPrice,callback:function(e){t.$set(t.filterOption.price,"maxPrice",e)},expression:"filterOption.price.maxPrice"}})],1)],1),t._v(" "),o("el-collapse-item",{attrs:{title:"全部类目",name:"3"}},[o("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:t.handleCheckAllChange},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}},[t._v("全选")]),t._v(" "),o("div",{staticStyle:{margin:"15px 0"}}),t._v(" "),o("el-checkbox-group",{on:{change:t.handleCheckedTypesChange},model:{value:t.filterOption.type,callback:function(e){t.$set(t.filterOption,"type",e)},expression:"filterOption.type"}},t._l(t.typeNames,function(e){return o("el-checkbox",{key:e,attrs:{label:e}},[t._v(t._s(e))])}))],1)],1),t._v(" "),o("br"),t._v(" "),o("el-col",{attrs:{span:8,offset:16}},[o("el-button",{attrs:{type:"primary",round:""},on:{click:t.handleFilter}},[t._v("确定")])],1),t._v(" "),o("el-button",{attrs:{slot:"reference"},slot:"reference"},[t._v("筛选")])],1)],1)],1)},staticRenderFns:[]};var h=o("VU/8")({data:function(){return{filterOption:{discount:"1",price:{minPrice:"",maxPrice:""},type:[]},isIndeterminate:!0,checkAll:!1,seem:!1}},computed:{typeNames:function(){var t=[];return this.goodsTypes.forEach(function(e){t.push(e.type_name)}),t},goodsTypes:function(){return this.$store.state.goodsType}},created:function(){var t=this;this.typeNames.forEach(function(e){t.filterOption.type.push(e)})},methods:{handleChange:function(){},handleCheckAllChange:function(t){this.filterOption.type=t?this.typeNames:[],this.isIndeterminate=!1},handleCheckedTypesChange:function(t){var e=t.length;this.checkAll=e===this.typeNames.length,this.isIndeterminate=e>0&&e<this.typeNames.length},handleFilter:function(){this.$emit("filter",this.filterOption),this.seem=!1}}},g,!1,function(t){o("6v+C")},null,null).exports,f={data:function(){return{currentPage:1,activeIndex:"1-1",seem:!0}},computed:{goodsNum:function(){return this.goodsList.length},span:function(){return Math.floor((23-this.lineSize)/this.lineSize)},offset:function(){return(24-this.span*this.lineSize)/2},pageSize:function(){return this.lines*this.lineSize}},props:{goodsList:{type:Array},lines:{type:Number,default:2},lineSize:{type:Number,default:4}},created:function(){this.$router.currentRoute.query.page&&(this.currentPage=1*this.$router.currentRoute.query.page)},methods:{getGoods:function(t,e){var o=(t-1)*this.lineSize+e-1+(this.currentPage-1)*this.pageSize;return o<this.goodsNum&&this.goodsList[o]},getIndex:function(t,e){return(t-1)*this.lineSize+e-1},handleCurrentChange:function(){this.$router.push({path:this.$router.currentRoute.path+"?page="+this.currentPage})},handleSelect:function(t,e){switch(t){case"priceDec":this.seem=!1,this.decOrder(),this.seem=!0;break;case"priceInc":this.seem=!1,this.incOrder(),this.seem=!0;break;case"saleDec":this.seem=!1,this.saleDecOrder(),this.seem=!0;break;case"rankDec":this.seem=!1,this.rankDecOrder(),this.seem=!0}},handleFilter:function(t){this.$emit("filter",t)},decOrder:function(){for(var t=0;t<this.goodsNum-1;t++)for(var e=t+1;e<this.goodsNum;e++)if(this.goodsList[t].goods_price<this.goodsList[e].goods_price){var o=this.goodsList[t];this.goodsList[t]=this.goodsList[e],this.goodsList[e]=o}},incOrder:function(){for(var t=0;t<this.goodsNum-1;t++)for(var e=t+1;e<this.goodsNum;e++)if(this.goodsList[t].goods_price>this.goodsList[e].goods_price){var o=this.goodsList[t];this.goodsList[t]=this.goodsList[e],this.goodsList[e]=o}},saleDecOrder:function(){for(var t=0;t<this.goodsNum-1;t++)for(var e=t+1;e<this.goodsNum;e++)if(this.$store.getters.getMonthRecordById(this.goodsList[t].goods_id)<this.$store.getters.getMonthRecordById(this.goodsList[e].goods_id)){var o=this.goodsList[t];this.goodsList[t]=this.goodsList[e],this.goodsList[e]=o}},rankDecOrder:function(){for(var t=0;t<this.goodsNum-1;t++)for(var e=t+1;e<this.goodsNum;e++)if(this.$store.getters.getGoodsRankById(this.goodsList[t].goods_id)<this.$store.getters.getGoodsRankById(this.goodsList[e].goods_id)){var o=this.goodsList[t];this.goodsList[t]=this.goodsList[e],this.goodsList[e]=o}}},components:{goodsCard:p,goodsFilter:h}},_={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-row",[o("goods-filter",{on:{filter:t.handleFilter}})],1),t._v(" "),o("el-row",[o("el-col",{attrs:{offset:10,span:4}},[o("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex,mode:"horizontal"},on:{select:t.handleSelect}},[o("el-submenu",{attrs:{index:"1"}},[o("template",{slot:"title"},[t._v("综合")]),t._v(" "),o("el-menu-item",{attrs:{index:"priceDec"}},[t._v("价格降序")]),t._v(" "),o("el-menu-item",{attrs:{index:"priceInc"}},[t._v("价格升序")])],2),t._v(" "),o("el-menu-item",{attrs:{index:"saleDec"}},[t._v("销量")]),t._v(" "),o("el-menu-item",{attrs:{index:"rankDec"}},[t._v("评价")])],1)],1)],1),t._v(" "),o("br"),t._v(" "),t._l(t.lines,function(e){return t.seem?o("el-row",{key:e},t._l(t.lineSize,function(s){return t.getGoods(e,s)?o("el-col",{key:s,attrs:{span:t.span,offset:1==s?t.offset:0}},[o("goods-card",{attrs:{"goods-details":t.getGoods(e,s)}})],1):t._e()})):t._e()}),t._v(" "),o("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.lines*t.lineSize,layout:"total, prev, pager, next",total:t.goodsNum},on:{"update:currentPage":function(e){t.currentPage=e},"current-change":t.handleCurrentChange}})],2)},staticRenderFns:[]};var v=o("VU/8")(f,_,!1,function(t){o("Rsaa")},null,null).exports,y={data:function(){return{yearGoodsRecord:[],date:new Date}},props:{width:{type:String,default:"800px"},height:{type:String,default:"500px"}},computed:{types:function(){var t=[];return this.$store.state.goodsType.forEach(function(e){t.push(e.type_name)}),t},data:function(){return this.$store.state.fanChart},yearRecord2:function(){return this.$store.getters.getRecord2ByYear(this.year)[0].data},year:function(){return this.date.getFullYear()}},created:function(){var t=this;if(this.$store.dispatch("loadYearRecord2",{year:this.year}).then(function(){t.drawLine()}),0==this.$store.state.fanChart.length){var e=[];this.types.forEach(function(o){e.push({name:o,value:t.getYearAmount(o)})}),e.forEach(function(t){t.value=t.value.toFixed(2)}),this.$store.commit("loadFanChart",e)}},mounted:function(){this.drawLine()},methods:{drawLine:function(){var t=this.$echarts.init(document.getElementById("myChart")),e={title:{text:this.year+"年超市销量情况",left:"center"},tooltip:{trigger:"item",formatter:"{b} : {c}元 ({d}%)"},legend:{bottom:10,left:"center",data:this.types},series:[{type:"pie",radius:"65%",center:["50%","50%"],selectedMode:"single",data:this.yearRecord2,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};t.setOption(e)},update:function(){var t=this;this.$store.dispatch("loadYearRecord2",{year:this.year}).then(function(){t.drawLine()})}}},b={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-date-picker",{attrs:{type:"year",placeholder:"选择年"},on:{change:t.update},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),t._v(" "),o("div",{style:{width:t.width,height:t.height},attrs:{id:"myChart"}})],1)},staticRenderFns:[]};var $=o("VU/8")(y,b,!1,function(t){o("KLSe")},null,null).exports,x={data:function(){return{saleRecord:[],typeNames:["所有商品"],date:new Date}},computed:{year:function(){return this.date.getFullYear()},yearRecord:function(){return this.$store.getters.getRecordByYear(this.year)[0].data}},props:{width:{type:String,default:"1200px"},height:{type:String,default:"500px"}},mounted:function(){this.drawLine()},created:function(){var t=this;this.$store.dispatch("loadYearRecord",{year:this.year}),this.$store.dispatch("loadTypeNames").then(function(){t.$store.state.goods.typeNames.forEach(function(e){t.typeNames.push(e.type_name),t.drawLine()})})},methods:{drawLine:function(){var t=this.$echarts.init(document.getElementById("myChart")),e={title:{text:this.year+"年全年销量变化情况",left:"center"},tooltip:{trigger:"axis"},legend:{data:this.typeNames,top:30,selected:{"生鲜水果":!1,"进口食品":!1,"休闲零食":!1,"酒水乳饮":!1,"粮油副食":!1,"美妆个护":!1,"家居用品":!1,"家庭清洁":!1,"母婴玩具":!1}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],name:"月份"},yAxis:{name:"销量额/元"},series:this.yearRecord};t.setOption(e)},update:function(){var t=this;this.$store.dispatch("loadYearRecord",{year:this.year}).then(function(){t.drawLine()})}}},k={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-date-picker",{attrs:{type:"year",placeholder:"选择年"},on:{change:t.update},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),t._v(" "),o("button",{on:{click:t.update}},[t._v("更新")]),t._v(" "),o("div",{style:{width:t.width,height:t.height},attrs:{id:"myChart"}})],1)},staticRenderFns:[]};var L=o("VU/8")(x,k,!1,function(t){o("IXJz")},null,null).exports,w={data:function(){return{goodsAmount:1}},computed:{imgSrc:function(){return JSON.parse(this.goodsDetails.goods_image)},realPrice:function(){return(this.goodsDetails.goods_price*this.$store.getters.getDiscountById(this.goodsDetails.goods_id)).toFixed(2)},monthSale:function(){return this.$store.getters.getMonthRecordById(this.goodsDetails.goods_id)}},props:{goodsDetails:Object,commentSize:{type:Number}},created:function(){},methods:{addCart:function(){this.$store.dispatch("addItems",{goods_id:this.goodsDetails.goods_id,amount:this.goodsAmount})},isDiscount:function(){return this.$store.getters.isDiscount(this.goodsDetails.goods_id)}}},C={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-row",[o("el-col",{attrs:{span:6,offset:4}},[o("el-row",[o("el-col",{attrs:{span:24}},[o("img",{attrs:{src:t.imgSrc[0].src}})])],1)],1),t._v(" "),o("el-col",{attrs:{span:6,offset:2}},[o("el-row",[o("b",[t._v(t._s(t.goodsDetails.goods_name))])]),t._v(" "),o("br"),t._v(" "),o("el-row",[t._v("\n\t\t\t\t价格: "),t.isDiscount()?o("p",{staticStyle:{color:"red"}},[o("s",{staticStyle:{color:"black"}},[t._v("￥"+t._s(t.goodsDetails.goods_price))]),t._v(" "),o("b",[t._v("￥"+t._s(t.realPrice))])]):o("p",{staticStyle:{color:"red"}},[o("b",[t._v("￥"+t._s(t.goodsDetails.goods_price))])])]),t._v(" "),o("br"),t._v(" "),o("hr"),t._v(" "),o("el-row",[o("el-col",{attrs:{span:8,offset:1}},[t._v("\n\t\t\t\t\t月销量 "),o("b",{staticStyle:{color:"red"}},[t._v(t._s(t.monthSale))])]),t._v(" "),o("el-col",{attrs:{span:8,offset:4}},[t._v("\n\t\t\t\t\t累计评价 "),o("b",{staticStyle:{color:"red"}},[t._v(t._s(t.commentSize))])])],1),t._v(" "),o("hr"),t._v(" "),o("br"),t._v(" "),o("el-row",[t._v("\n\t\t\t\t产地 "),o("b",[t._v(t._s(t.goodsDetails.goods_source))])]),t._v(" "),o("br"),t._v(" "),o("el-row",[t._v("\n\t\t\t\t数量: "),o("el-input-number",{attrs:{min:0,max:t.$store.getters.getGoodsStockById(t.goodsDetails.goods_id),label:"描述文字"},model:{value:t.goodsAmount,callback:function(e){t.goodsAmount=e},expression:"goodsAmount"}}),t._v("\n\t\t\t\t库存 "+t._s(t.goodsDetails.remain)+"\n\t\t\t")],1),t._v(" "),o("br"),t._v(" "),o("br"),t._v(" "),o("el-row",[o("el-col",[o("el-button",{attrs:{type:"primary"},on:{click:t.addCart}},[t._v("加入购物车")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var R=o("VU/8")(w,C,!1,function(t){o("/s/H")},null,null).exports,S={data:function(){return{}},computed:{time:function(){return new Date(1*this.comment.time).datetime()}},props:{comment:Object}},D={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-card",[o("el-row",[o("el-col",{attrs:{span:4}},[o("b",[t._v("用户: "+t._s(t.comment.author))])]),t._v(" "),o("el-col",{attrs:{span:8,offset:4}},[o("el-rate",{attrs:{"show-text":"",colors:["#99A9BF","#F7BA2A","#FF9900"],disabled:""},model:{value:t.comment.rank,callback:function(e){t.$set(t.comment,"rank",e)},expression:"comment.rank"}})],1)],1),t._v(" "),o("el-row",[o("el-col",{attrs:{span:8}},[t._v("\n\t\t\t\t"+t._s(t.time)+"\n\t\t\t")])],1),t._v(" "),o("br"),t._v(" "),o("el-col",{staticStyle:{"text-align":"left"},attrs:{span:22,offset:2}},[t._v("\n\t\t\t"+t._s(t.comment.content)+"\n\t\t")]),t._v(" "),o("el-col",{style:{height:"20px"}})],1)],1)},staticRenderFns:[]};var F=o("VU/8")(S,D,!1,function(t){o("yyiv")},null,null).exports,E={data:function(){return{currentPage:1}},props:{commentList:Array,pageSize:{type:Number,default:4}},computed:{commentNum:function(){return this.commentList.length}},methods:{getComment:function(t){var e=(this.currentPage-1)*this.pageSize+t-1;return!(e>=this.commentNum)&&this.commentList[e]},handleCurrentChange:function(){}},components:{commentCard:F}},N={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t._l(t.pageSize,function(e){return t.getComment(e)?o("comment-card",{key:e,attrs:{comment:t.getComment(e)}}):t._e()}),t._v(" "),o("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageSize,layout:"total, prev, pager, next",total:t.commentNum},on:{"update:currentPage":function(e){t.currentPage=e},"current-change":t.handleCurrentChange}})],2)},staticRenderFns:[]};var I=o("VU/8")(E,N,!1,function(t){o("5TTs")},null,null).exports,V={data:function(){return{goodsDetails:{type_id:1,goods_id:1,goods_name:"越南白心火龙果（1个）",goods_description:"越南白心火龙果（1个）",goods_price:7.9,goods_image:'[{"src": "/static/images/fruits/dragon_fruit1.jpg"}, {"src": "/static/images/fruits/dragon_fruit2.jpg"}]',goods_source:"越南",type_name:"生鲜水果"},goodsList:[{type_id:1,goods_id:1,goods_name:"越南白心火龙果（1个）",goods_description:"越南白心火龙果（1个）",goods_price:7.9,goods_image:'[{"src": "/static/images/fruits/dragon_fruit1.jpg"}, {"src": "/static/images/fruits/dragon_fruit2.jpg"}]',goods_source:"越南",type_name:"生鲜水果"},{type_id:1,goods_id:2,goods_name:"山东红富士苹果（3个）",goods_description:"山东红富士苹果（3个）",goods_price:6.9,goods_image:'[{"src": "/static/images/fruits/apple1.jpg"}]',goods_source:"山东",type_name:"生鲜水果"},{type_id:2,goods_id:3,goods_name:"新西兰低脂牛奶（250ml x 24盒）",goods_description:"新西兰低脂牛奶（250ml x 24盒）",goods_price:72,goods_image:'[{"src": "/static/images/food/milk1.jpg"}]',goods_source:"新西兰",type_name:"进口食品"},{type_id:3,goods_id:4,goods_name:"三只松鼠开心果（225g x 1袋）",goods_description:"三只松鼠开心果（225g x 1袋）",goods_price:28.9,goods_image:'[{"src": "/static/images/food/pistachio1.jpg"}]',goods_source:"上海",type_name:"休闲零食"},{type_id:1,goods_id:5,goods_name:"新疆库尔勒香梨(1kg)",goods_description:"新疆库尔勒香梨(1kg)",goods_price:15.8,goods_image:'[{"src": "/static/images/fruits/pear1.jpg"}]',goods_source:"新疆",type_name:"生鲜水果"},{type_id:1,goods_id:6,goods_name:"四川安岳黄柠檬（4个）",goods_description:"四川安岳黄柠檬（4个）",goods_price:5.5,goods_image:'[{"src": "/static/images/fruits/lemon1.jpg"}]',goods_source:"四川",type_name:"生鲜水果"},{type_id:1,goods_id:7,goods_name:"海南小台农芒果（1kg）",goods_description:"海南小台农芒果（1kg）",goods_price:9.9,goods_image:'[{"src": "/static/images/fruits/mango1.jpg"}]',goods_source:"海南",type_name:"生鲜水果"},{type_id:1,goods_id:8,goods_name:"进口凤梨（1个）",goods_description:"进口凤梨（1个）",goods_price:19.9,goods_image:'[{"src": "/static/images/fruits/pineapple1.jpg"}]',goods_source:"菲律宾",type_name:"生鲜水果"},{type_id:1,goods_id:9,goods_name:"常瀛进口香蕉（5根）",goods_description:"常瀛进口香蕉（5根）",goods_price:12.9,goods_image:'[{"src": "/static/images/fruits/banana1.jpg"}]',goods_source:"常瀛",type_name:"生鲜水果"},{type_id:2,goods_id:10,goods_name:"新西兰低脂牛奶（250ml x 24盒）",goods_description:"新西兰低脂牛奶（250ml x 24盒）",goods_price:72,goods_image:'[{"src": "/static/images/food/milk1.jpg"}]',goods_source:"新西兰",type_name:"进口食品"},{type_id:2,goods_id:11,goods_name:"巧克力威化饼干（600g x 1盒）",goods_description:"巧克力威化饼干（600g x 1盒）",goods_price:79,goods_image:'[{"src": "/static/images/food/biscuit1.jpg"}]',goods_source:"德国",type_name:"进口食品"},{type_id:2,goods_id:12,goods_name:"三只松鼠开心果（225g x 1袋）",goods_description:"三只松鼠开心果（225g x 1袋）",goods_price:28.9,goods_image:'[{"src": "/static/images/food/pistachio1.jpg"}]',goods_source:"上海",type_name:"进口食品"}],commentList:[{author:"123",content:"123"},{author:"123",content:"123"},{author:"123",content:"123"},{author:"123",content:"123"},{author:"123",content:"123"},{author:"123",content:"123"},{author:"123",content:"123"},{author:"123",content:"123"},{author:"123",content:"123"}],goodsListFiltered:[],filterOption:null,comment:{author:"123",content:"123"}}},computed:{},created:function(){this.goodsListFiltered=this.goodsList},methods:{handleFilter:function(t){this.filterOption=t,this.updateList()},test:function(){this.goodsList.pop()},updateList:function(){var t=this.filterOption.price.minPrice,e=this.filterOption.price.maxPrice,o=(this.filterOption.discount,this.filterOption.type),s=[];this.goodsList.forEach(function(r){-1!=o.indexOf(r.type_name)&&r.goods_price>=(""==t?0:t)&&r.goods_price<=(""==e?9999:e)&&s.push(r)}),this.goodsListFiltered=s}},components:{goodsCard:p,goodsList:v,fanChart:$,lineChart:L,goodsDetails:R,commentCard:F,commentList:I}},O={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("fan-chart",{attrs:{year:2017}}),t._v(" "),o("goodsList",{attrs:{"goods-list":t.goodsListFiltered,lines:2,lineSize:4},on:{filter:t.handleFilter}}),t._v(" "),o("button",{on:{click:t.test}},[t._v("点击")]),t._v(" "),o("goods-details",{attrs:{goodsDetails:t.goodsList[1]}}),t._v(" "),o("comment-list",{attrs:{"comment-list":t.commentList}})],1)},staticRenderFns:[]};var G=o("VU/8")(V,O,!1,function(t){o("ovJf")},null,null).exports,T={data:function(){return{}},props:{goodsDetails:Object,goodsAmount:Number},computed:{realPrice:function(){return(this.goodsDetails.goods_price*this.$store.getters.getDiscountById(this.goodsDetails.goods_id)).toFixed(2)}},methods:{decrease:function(){this.$store.commit("decreaseOneItem",this.goodsDetails.goods_id)},increase:function(){this.$store.dispatch("addOneItem",this.goodsDetails.goods_id)},remove:function(){this.$store.commit("removeItem",this.goodsDetails.goods_id)},isDiscount:function(){return this.$store.getters.isDiscount(this.goodsDetails.goods_id)}}},z={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-card",[o("el-row",[o("el-col",{attrs:{span:8}},[o("img",{attrs:{src:JSON.parse(t.goodsDetails.goods_image)[0].src}})]),t._v(" "),o("el-col",{attrs:{span:12}},[o("el-row",[o("el-col",[o("p",[t._v(t._s(t.goodsDetails.goods_name))])])],1),t._v(" "),o("el-row",[o("el-col",{attrs:{span:8}},[t.isDiscount()?o("p",{staticStyle:{color:"red"}},[o("s",{staticStyle:{color:"black"}},[t._v("￥"+t._s(t.goodsDetails.goods_price))]),t._v(" "),o("b",[t._v("￥"+t._s(t.realPrice))])]):o("p",{staticStyle:{color:"red"}},[o("b",[t._v("￥"+t._s(t.goodsDetails.goods_price))])])]),t._v("\n\t\t\t\t\t  \n\t\t\t\t\t"),o("i",{staticClass:"el-icon-remove",on:{click:t.decrease}}),t._v(" "+t._s(t.goodsAmount)+"\n\t\t\t\t\t"),o("i",{staticClass:"el-icon-circle-plus",on:{click:t.increase}})],1)],1),t._v(" "),o("el-col",{staticStyle:{"margin-top":"30px"},attrs:{span:4}},[o("i",{staticClass:"el-icon-circle-close-outline",attrs:{title:"删除"},on:{click:t.remove}})])],1)],1)],1)},staticRenderFns:[]};var B=o("VU/8")(T,z,!1,function(t){o("dku4")},null,null).exports,P={name:"shopping-cart",data:function(){return{visible:!1}},props:{},computed:{goodsNum:function(){var t=0;return this.shoppingCart.forEach(function(e){t+=1*e.amount}),t},shoppingCart:function(){return this.$store.state.cart.shoppingCart},goodsList:function(){return this.$store.state.goods.goodsList},totalPrice:function(){return this.$store.getters.totalPrice}},methods:{clear:function(){this.visible=!1,this.$store.commit("clearCart"),this.$message({message:"购物车已被清空",type:"success"})},goto:function(){this.$router.push({path:"/sale/checkout"})}},components:{cartItem:B}},U={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticStyle:{width:"300px"}},[t._l(t.shoppingCart,function(e){return o("el-row",{key:e.goods_id},[o("cart-item",{attrs:{"goods-details":t.$store.getters.getGoodsById(e.goods_id),"goods-amount":e.amount}})],1)}),t._v(" "),0!=t.shoppingCart.length?o("el-row",[o("el-col",{attrs:{offset:5}},[o("h3",[t._v("共"+t._s(t.goodsNum)+"件商品 合计: ￥"+t._s(t.totalPrice))])])],1):t._e(),t._v(" "),0!=t.shoppingCart.length?o("el-row",{staticStyle:{"margin-top":"20px"}},[o("el-col",{attrs:{span:12,offset:2}},[o("el-popover",{attrs:{placement:"top",width:"160"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[o("p",[t._v("你确定清空购物车吗?")]),t._v(" "),o("div",{staticStyle:{"text-align":"right",margin:"0"}},[o("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){t.visible=!1}}},[t._v("取消")]),t._v(" "),o("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.clear}},[t._v("确定")])],1),t._v(" "),o("el-button",{attrs:{slot:"reference",round:""},slot:"reference"},[t._v("清空购物车")])],1)],1),t._v(" "),o("el-col",{attrs:{span:8,offset:2}},[o("el-button",{attrs:{round:""},on:{click:t.goto}},[t._v("结算")])],1)],1):t._e(),t._v(" "),0==t.shoppingCart.length?o("el-row",[t._v("\n\t\t当前购物车为空\n\t")]):t._e()],2)},staticRenderFns:[]};var A=o("VU/8")(P,U,!1,function(t){o("FB5a")},null,null).exports,j={data:function(){return{}},computed:{span:function(){return Math.floor((23-this.lineSize)/this.lineSize)},offset:function(){return Math.floor((21-this.span*this.lineSize)/2)}},props:{recommendList:{type:Array},lineSize:{type:Number,default:4},text:{type:String}},components:{goodsCard:p}},Y={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-row",[o("h3",[t._v(t._s(t.text))]),t._v(" "),o("hr")]),t._v(" "),o("el-row",t._l(t.lineSize,function(e){return o("el-col",{key:e,attrs:{span:t.span,offset:1==e?t.offset:1}},[o("goods-card",{attrs:{"goods-details":t.recommendList[e-1]}})],1)})),t._v(" "),o("hr")],1)},staticRenderFns:[]};var M=o("VU/8")(j,Y,!1,function(t){o("QNj8")},null,null).exports,H={name:"side-menu",data:function(){return{seem:!1}},computed:{goodsNum:function(){var t=0;return this.shoppingCart.forEach(function(e){t+=e.amount}),t}},created:function(){},components:{shoppingCart:A},methods:{showCart:function(){this.seem=!0},fun1:function(){this.seem=!1},goto:function(){this.$router.push({path:"/sale/user-center"})},getGoods:function(t){var e;return this.goodsList.forEach(function(o,s){o.goods_id==t&&(e=s)}),this.goodsList[e]}}},q={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-button",{attrs:{icon:"el-icon-d-arrow-left",title:"返回",circle:""},on:{click:function(e){t.$router.go(-1)}}}),t._v(" "),o("br"),t._v(" "),o("br"),t._v(" "),o("el-popover",{ref:"popover1",attrs:{placement:"right-start",title:"购物车",width:"800px",trigger:"hover",value:t.seem}},[o("shopping-cart")],1),t._v(" "),o("el-button",{directives:[{name:"popover",rawName:"v-popover:popover1",arg:"popover1"}],attrs:{icon:"el-icon-goods",circle:""}}),t._v(" "),o("br"),t._v(" "),o("br"),t._v(" "),o("el-button",{attrs:{icon:"el-icon-info",title:"个人中心",circle:""},on:{click:t.goto}})],1)},staticRenderFns:[]};var J=o("VU/8")(H,q,!1,function(t){o("qA/Q")},null,null).exports,W={data:function(){return{discountForm:{goodsName:"",discount:"",startTime:"",stayDays:""},discountOption:[{value:.9,label:"九折"},{value:.8,label:"八折"},{value:.7,label:"七折"},{value:.6,label:"六折"},{value:.5,label:"五折"}],rules:{goodsName:[{required:!0,message:"请输入商品名称",trigger:"blur"}],discount:[{required:!0,message:"请选择折扣",trigger:"blur"}],startTime:[{required:!0,message:"请选择开始时间",trigger:"blur"}],stayDays:[{required:!0,message:"请输入天数",trigger:"blur"}]}}},methods:{submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;var o={};o.goodsName=e.discountForm.goodsName,o.discount=e.discountForm.discount,o.startTime=e.discountForm.startTime,o.stayDays=e.discountForm.stayDays,e.$emit("add",o),e.discountForm.goodsName="",e.discountForm.discount="",e.discountForm.startTime="",e.discountForm.stayDays=""})},querySearch:function(t,e){var o=this.$store.getters.getUnDiscountGoodsNameList;e(t?o.filter(this.createFilter(t)):o)},createFilter:function(t){return function(e){return-1!=e.value.indexOf(t)}},cancel:function(){this.$emit("cancel")}}},X={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"form-body"}},[o("el-row",[o("el-col",{attrs:{span:12,offset:6}},[o("el-button",{staticStyle:{"font-size":"25px","font-weight":"bold"},attrs:{type:"text"}},[t._v("添加优惠")])],1)],1),t._v(" "),o("el-form",{ref:"form",staticClass:"demo-ruleForm",attrs:{model:t.discountForm,rules:t.rules}},[o("el-form-item",{attrs:{label:"商品名称",prop:"goodsName"}},[o("el-autocomplete",{attrs:{"fetch-suggestions":t.querySearch,placeholder:"请输入商品名称"},model:{value:t.discountForm.goodsName,callback:function(e){t.$set(t.discountForm,"goodsName",e)},expression:"discountForm.goodsName"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"开始时间",prop:"startTime"}},[o("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.discountForm.startTime,callback:function(e){t.$set(t.discountForm,"startTime",e)},expression:"discountForm.startTime"}})],1),t._v(" "),o("el-row",[o("el-col",{attrs:{span:8}},[o("el-form-item",{attrs:{label:"折扣",prop:"discount"}},[o("el-select",{attrs:{placeholder:"请选择折扣"},model:{value:t.discountForm.discount,callback:function(e){t.$set(t.discountForm,"discount",e)},expression:"discountForm.discount"}},t._l(t.discountOption,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1),t._v(" "),o("el-col",{attrs:{span:12,offset:2}},[o("el-form-item",{attrs:{label:"持续时间",prop:"stayDays"}},[o("el-input",{model:{value:t.discountForm.stayDays,callback:function(e){t.$set(t.discountForm,"stayDays",e)},expression:"discountForm.stayDays"}},[o("template",{slot:"append"},[t._v("天")])],2)],1)],1)],1),t._v(" "),o("el-col",{attrs:{span:12,offset:6}},[o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("form")}}},[t._v("立即创建")]),t._v(" "),o("el-button",{on:{click:t.cancel}},[t._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var Q=o("VU/8")(W,X,!1,function(t){o("7HaI")},null,null).exports,K={data:function(){return{}},created:function(){},methods:{showGoods:function(){this.$store.dispatch("loadCustomerConsume",{year:2e3}),this.$store.dispatch("loadGoodsRank"),console.log(this.$store.state.goods.goodsRank)}},components:{shoppingCart:A,cartItem:B,recommendLine:M,sideMenu:J,discountForm:Q}},Z={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("button",{on:{click:this.showGoods}},[this._v("点击")])])},staticRenderFns:[]};var tt=o("VU/8")(K,Z,!1,function(t){o("WpvQ")},null,null).exports,et={data:function(){return{}},components:{sideMenu:J}},ot={render:function(){var t=this.$createElement,e=this._self._c||t;return e("el-container",[e("el-aside",{attrs:{width:"50px"}},[e("side-menu",{attrs:{id:"shoppingcart"}})],1),this._v(" "),e("el-container",[e("el-header",[e("h1",[this._v("头部")])]),this._v(" "),e("el-main",[e("router-view")],1),this._v(" "),e("el-footer",[e("h1",[this._v("尾部")])])],1)],1)},staticRenderFns:[]};var st=o("VU/8")(et,ot,!1,function(t){o("ewro")},null,null).exports,rt={data:function(){return{habit:[2,2,2,2,2,2,2,2]}},computed:{typeNames:function(){return this.$store.state.goods.typeNames}},created:function(){this.$store.dispatch("loadTypeNames"),console.log(this.typeNames)},methods:{cancel:function(){console.log(this.habit)},confirm:function(){console.log(this.habit),this.$emit("confirm",this.habit)}}},it={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.typeNames,border:""}},[o("el-table-column",{attrs:{type:"index",prop:"type_name",label:"序号",width:"50"}}),t._v(" "),o("el-table-column",{attrs:{prop:"type_name",label:"商品类别",width:"100"}}),t._v(" "),o("el-table-column",{attrs:{label:"喜爱程度",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-radio-group",{model:{value:t.habit[e.$index],callback:function(o){t.$set(t.habit,e.$index,o)},expression:"habit[scope.$index]"}},[o("el-radio",{attrs:{label:0}},[t._v("不喜欢")]),t._v(" "),o("el-radio",{attrs:{label:2}},[t._v("喜欢")]),t._v(" "),o("el-radio",{attrs:{label:5}},[t._v("非常喜欢")])],1)]}}])})],1),t._v(" "),o("br"),t._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:t.cancel}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.confirm}},[t._v("确 定")])],1)],1)},staticRenderFns:[]};var nt={data:function(){return{goodsListFiltered:[],text:"你可能想买",goods_name:"",dialogVisible:!1}},computed:{showList:function(){var t=this,e=[];return this.goodsListFiltered.forEach(function(o){-1!=o.goods_name.indexOf(t.goods_name)&&e.push(o)}),e},recommendList:function(){return this.$store.state.goods.recommendGoodsList},goodsList:function(){return this.$store.state.goods.goodsList}},created:function(){var t=this;this.goodsListFiltered=this.goodsList,this.$store.dispatch("loadCurrentMonthRecord"),this.$axios.get("/api/customer/getCustomerInfo",{params:{customer_id:this.$cookieStore.getCookie("username")}}).then(function(e){1==e.data[0].is_first?t.dialogVisible=!0:t.dialogVisible=!1}),this.$store.dispatch("loadGoods"),this.$store.dispatch("loadRecommendGoodsList"),this.$store.dispatch("loadTypeNames"),this.$store.dispatch("loadStockList"),this.$store.dispatch("loadComments"),this.$store.dispatch("loadGoodsRank"),this.$store.dispatch("loadDiscountList")},methods:{handleFilter:function(t){this.filterOption=t,console.log(this.filterOption),this.updateList()},updateList:function(){var t=this,e=this.filterOption.price.minPrice,o=this.filterOption.price.maxPrice,s=(this.filterOption.discount,this.filterOption.type),r=[],i=[];1==this.filterOption.discount?i=this.goodsList:2==this.filterOption.discount?this.goodsList.forEach(function(e){t.$store.getters.isDiscount(e.goods_id)&&i.push(e)}):this.goodsList.forEach(function(e){t.$store.getters.isDiscount(e.goods_id)||i.push(e)}),i.forEach(function(t){-1!=s.indexOf(t.type_name)&&t.goods_price>=(""==e?0:e)&&t.goods_price<=(""==o?9999:o)&&r.push(t)}),this.goodsListFiltered=r},handleClose:function(t){this.$confirm("确认关闭？").then(function(e){t()}).catch(function(t){})},handleConfirm:function(t){this.dialogVisible=!1,console.log(t),this.$axios.post("/api/customer/confirmRecommend",{customer_id:this.$cookieStore.getCookie("username"),habit:t}).then(function(t){})}},components:{goodsList:v,recommendLine:M,recommendCard:o("VU/8")(rt,it,!1,function(t){o("S3dm")},null,null).exports}},at={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-col",{attrs:{span:8,offset:8}},[o("el-input",{attrs:{placeholder:"请输入商品名"},model:{value:t.goods_name,callback:function(e){t.goods_name=e},expression:"goods_name"}})],1),t._v(" "),o("br"),t._v(" "),o("goods-list",{attrs:{"goods-list":t.showList},on:{filter:t.handleFilter}}),t._v(" "),o("el-row",[o("el-col",{attrs:{span:18,offset:3}},[o("recommend-line",{attrs:{"recommend-list":t.recommendList,text:t.text}})],1)],1),t._v(" "),o("el-dialog",{attrs:{title:"选择喜好",visible:t.dialogVisible,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[o("recommend-card",{on:{confirm:t.handleConfirm}})],1)],1)},staticRenderFns:[]};var ct=o("VU/8")(nt,at,!1,function(t){o("cTH5")},null,null).exports,dt={data:function(){return{rank:3,recommendList:[{type_id:1,goods_id:1,goods_name:"越南白心火龙果（1个）",goods_description:"越南白心火龙果（1个）",goods_price:7.9,goods_image:'[{"src": "/static/images/fruits/dragon_fruit1.jpg"}, {"src": "/static/images/fruits/dragon_fruit2.jpg"}]',goods_source:"越南",type_name:"生鲜水果"},{type_id:1,goods_id:2,goods_name:"山东红富士苹果（3个）",goods_description:"山东红富士苹果（3个）",goods_price:6.9,goods_image:'[{"src": "/static/images/fruits/apple1.jpg"}]',goods_source:"山东",type_name:"生鲜水果"},{type_id:2,goods_id:3,goods_name:"新西兰低脂牛奶（250ml x 24盒）",goods_description:"新西兰低脂牛奶（250ml x 24盒）",goods_price:72,goods_image:'[{"src": "/static/images/food/milk1.jpg"}]',goods_source:"新西兰",type_name:"进口食品"},{type_id:3,goods_id:4,goods_name:"三只松鼠开心果（225g x 1袋）",goods_description:"三只松鼠开心果（225g x 1袋）",goods_price:28.9,goods_image:'[{"src": "/static/images/food/pistachio1.jpg"}]',goods_source:"上海",type_name:"休闲零食"}],text:"购买了此商品的顾客还买了",goods_id:""}},computed:{goodsList:function(){return this.$store.state.goods.goodsList},commentList:function(){return this.$store.getters.getCommentByGoodsId(this.goods_id)}},mounted:function(){this.goods_id=this.$router.currentRoute.path.split("/").pop()},created:function(){this.$store.dispatch("loadCurrentMonthRecord"),this.goods_id=this.$router.currentRoute.path.split("/").pop(),this.rank=1*this.$store.getters.getGoodsById(this.goods_id).rank.toFixed(1)},methods:{},components:{goodsDetails:R,commentList:I,recommendLine:M}},lt={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("goods-details",{attrs:{"goods-details":t.$store.getters.getGoodsById(t.goods_id),commentSize:t.commentList.length}}),t._v(" "),o("el-row",[o("el-col",{attrs:{span:8,offset:8}},[o("h3",[t._v("商品评价("+t._s(t.commentList.length)+")")]),t._v(" "),0!=t.rank?o("el-rate",{attrs:{colors:["#99A9BF","#F7BA2A","#FF9900"],disabled:"","show-score":""},model:{value:t.rank,callback:function(e){t.rank=e},expression:"rank"}}):o("p",[t._v("无人评价")])],1)],1),t._v(" "),o("el-row",[o("el-col",{attrs:{span:10,offset:7}},[o("comment-list",{attrs:{"comment-list":t.commentList}})],1)],1),t._v(" "),o("el-row",[o("el-col",{attrs:{span:16,offset:4}},[o("recommend-line",{attrs:{"recommend-list":t.recommendList,text:t.text}})],1)],1)],1)},staticRenderFns:[]};var ut=o("VU/8")(dt,lt,!1,function(t){o("nemT")},null,null).exports,mt={data:function(){return{recommendList:[{type_id:1,goods_id:1,goods_name:"越南白心火龙果（1个）",goods_description:"越南白心火龙果（1个）",goods_price:7.9,goods_image:'[{"src": "/static/images/fruits/dragon_fruit1.jpg"}, {"src": "/static/images/fruits/dragon_fruit2.jpg"}]',goods_source:"越南",type_name:"生鲜水果"},{type_id:1,goods_id:2,goods_name:"山东红富士苹果（3个）",goods_description:"山东红富士苹果（3个）",goods_price:6.9,goods_image:'[{"src": "/static/images/fruits/apple1.jpg"}]',goods_source:"山东",type_name:"生鲜水果"},{type_id:2,goods_id:3,goods_name:"新西兰低脂牛奶（250ml x 24盒）",goods_description:"新西兰低脂牛奶（250ml x 24盒）",goods_price:72,goods_image:'[{"src": "/static/images/food/milk1.jpg"}]',goods_source:"新西兰",type_name:"进口食品"},{type_id:3,goods_id:4,goods_name:"三只松鼠开心果（225g x 1袋）",goods_description:"三只松鼠开心果（225g x 1袋）",goods_price:28.9,goods_image:'[{"src": "/static/images/food/pistachio1.jpg"}]',goods_source:"上海",type_name:"休闲零食"}],text:"你可能还想买"}},computed:{shoppingCart:function(){return this.$store.state.cart.shoppingCart},goodsNum:function(){var t=0;return this.shoppingCart.forEach(function(e){t+=1*e.amount}),t},totalPrice:function(){return this.$store.getters.totalPrice},goodsList:function(){return this.$store.state.goodsList}},created:function(){},methods:{buyGoods:function(){this.$store.dispatch("buyGoods"),this.$message({message:"购买成功!",type:"success"})},getGoodsById:function(t){var e=void 0;return this.goodsList.forEach(function(o,s){o.goods_id==t&&(e=s)}),this.goodsList[e]}},components:{cartItem:B,recommendLine:M}},pt={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t._l(t.shoppingCart,function(e){return 0!=t.shoppingCart.length?o("el-row",{key:e.goods_id},[o("el-col",{attrs:{span:8,offset:8}},[o("cart-item",{attrs:{"goods-details":t.$store.getters.getGoodsById(e.goods_id),"goods-amount":e.amount}})],1)],1):t._e()}),t._v(" "),o("br"),t._v(" "),0!=t.shoppingCart.length?o("el-row",[o("el-col",[o("h3",[t._v("共"+t._s(t.goodsNum)+"件商品 合计: ￥"+t._s(t.totalPrice))])])],1):t._e(),t._v(" "),0!=t.shoppingCart.length?o("el-col",{attrs:{span:6,offset:9}},[o("el-button",{attrs:{type:"primary"},on:{click:t.buyGoods}},[t._v("支付")])],1):t._e(),t._v(" "),o("br"),t._v(" "),o("br"),t._v(" "),0!=t.shoppingCart.length?o("el-row",[o("el-col",{attrs:{span:18,offset:3}},[o("recommend-line",{attrs:{"recommend-list":t.recommendList,text:t.text}})],1)],1):t._e(),t._v(" "),0==t.shoppingCart.length?o("el-col",{attrs:{span:6,offset:9}},[t._v("\n\t\t当前购物车为空\n\t\t"),o("br"),t._v(" "),o("br"),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.$router.push({path:"/sale/goods-sale"})}}},[t._v("继续购物")])],1):t._e()],2)},staticRenderFns:[]};var gt=o("VU/8")(mt,pt,!1,function(t){o("B3Yc")},null,null).exports,ht={data:function(){return{}},props:{userId:{type:String},totalMoney:{type:Number,default:0}},created:function(){},methods:{logout:function(){this.$emit("logout")},goto:function(){this.$router.push({path:"/sale/user-shopping-chart"})}}},ft={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-card",{staticClass:"box-card"},[o("el-row",[o("h3",[t._v("用户名: "+t._s(t.userId))]),t._v(" "),o("h4",[t._v("总消费: "+t._s(t.totalMoney.toFixed(2))+"元")]),t._v(" "),o("el-button",{attrs:{type:"primary",round:""},on:{click:t.goto}},[t._v("我的购物统计情况")]),t._v(" "),o("el-button",{attrs:{round:""},on:{click:t.logout}},[t._v("注销")])],1)],1)},staticRenderFns:[]};var _t=o("VU/8")(ht,ft,!1,function(t){o("fKHu")},null,null).exports,vt={data:function(){return{dialogVisible:!1,rank:[],value:3,comment:[]}},props:{goods:Array,type:Number,totalPrice:Number,recordId:Number},computed:{goodsNum:function(){var t=0;return this.goods.forEach(function(e){t+=e.amount}),t},goodsList:function(){return this.$store.state.goodsList}},mounted:function(){var t=this;this.goods.forEach(function(e){t.rank.push(3),t.comment.push("默认好评")})},methods:{confirmReceive:function(){this.$emit("confirmReceive",this.recordId)},submit:function(){var t=this;console.log(this.comment),console.log(this.rank);var e=[];this.goods.forEach(function(o,s){e.push({goods_id:o.goods_id,rank:t.rank[s],comment:t.comment[s],customer_id:t.$cookieStore.getCookie("username")})}),this.$axios.post("/api/comment/addComment",{comments:e}).then(function(){t.rank=[],t.comment=[],t.$axios.post("/api/comment/confirmComment",{record_id:t.recordId}).then(function(){t.$message({message:"评论完成",type:"success"}),t.dialogVisible=!1,t.$store.dispatch("loadCustomerRecord")})})}}},yt={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-card",[t._l(t.goods,function(e,s){return o("el-row",{key:s},[o("el-col",{attrs:{span:8}},[o("img",{attrs:{src:JSON.parse(t.$store.getters.getGoodsById(e.goods_id).goods_image)[0].src}})]),t._v(" "),o("el-col",{attrs:{span:12}},[o("el-row",[o("el-col",[o("h3",[t._v(t._s(t.$store.getters.getGoodsById(e.goods_id).goods_name))])])],1),t._v(" "),o("el-row",[o("el-col",{attrs:{span:12}},[o("b",{staticStyle:{color:"red"}},[t._v("￥"+t._s(t.$store.getters.getGoodsById(e.goods_id).goods_price))]),t._v(" "),o("br"),t._v(" X "+t._s(e.amount)+"\n\t\t\t\t\t")])],1)],1)],1)}),t._v(" "),o("el-row",[o("el-col",{attrs:{offset:5}},[o("h3",[t._v("共"+t._s(t.goodsNum)+"件商品 合计: ￥"+t._s(t.totalPrice))])])],1),t._v(" "),o("el-row",[o("el-col",{attrs:{offset:10}},[1==t.type?o("el-button",{attrs:{type:"primary",round:""},on:{click:t.confirmReceive}},[t._v("确认收货")]):t._e(),t._v(" "),2==t.type?o("el-button",{attrs:{type:"primary",round:""},on:{click:function(e){t.dialogVisible=!0}}},[t._v("评价")]):t._e()],1)],1),t._v(" "),o("el-dialog",{attrs:{title:"商品评价",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[o("div",[t._l(t.goods,function(e,s){return o("el-row",{key:e.index},[o("el-col",{attrs:{span:3}},[o("img",{attrs:{src:JSON.parse(t.$store.getters.getGoodsById(e.goods_id).goods_image)[0].src}})]),t._v(" "),o("el-rate",{attrs:{colors:["#99A9BF","#F7BA2A","#FF9900"],"show-text":""},model:{value:t.rank[s],callback:function(e){t.$set(t.rank,s,e)},expression:"rank[index]"}}),t._v(" "),o("el-col",{attrs:{span:12,offset:2}},[o("el-input",{staticStyle:{height:"100px",width:"600px"},attrs:{type:"textarea"},model:{value:t.comment[s],callback:function(e){t.$set(t.comment,s,e)},expression:"comment[index]"}})],1)],1)}),t._v(" "),o("el-row",[o("el-col",{attrs:{span:8,offset:8}},[o("el-button",{attrs:{type:"primary",round:""},on:{click:t.submit}},[t._v("提交")])],1)],1)],2)])],2)],1)},staticRenderFns:[]};var bt=o("VU/8")(vt,yt,!1,function(t){o("3rbR")},null,null).exports,$t={data:function(){return{currentPage:1}},props:{orderList:{type:Array},type:{type:Number},pageSize:{type:Number,default:5}},computed:{showList:function(){for(var t=[],e=(this.currentPage-1)*this.pageSize,o=e+this.pageSize>this.orderList.length?this.orderList.length:e+this.pageSize,s=e;s<o;s++)t.push(this.orderList[s]);return t}},created:function(){},methods:{getOrder:function(t){var e=(this.currentPage-1)*this.pageSize+t-1;return e<this.orderList.length&&this.orderList[e]},handleConfirmReceive:function(t){this.$emit("confirmReceive",t)}},components:{orderCard:bt}},xt={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-row",[o("el-col",{attrs:{sapn:12}},[1==t.type?o("h3",[t._v("待收货")]):t._e(),t._v(" "),2==t.type?o("h3",[t._v("待评价")]):t._e(),t._v(" "),3==t.type?o("h3",[t._v("我的订单")]):t._e()])],1),t._v(" "),o("el-collapse",[t._l(t.showList,function(e,s){return o("el-collapse-item",{key:s,attrs:{title:new Date(1*e.record_time).datetime()}},[o("order-card",{attrs:{goods:e.goods,"total-price":e.total_price,type:t.type,"record-id":e.record_id},on:{confirmReceive:t.handleConfirmReceive}})],1)}),t._v(" "),o("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageSize,layout:"total, prev, pager, next",total:t.orderList.length},on:{"update:currentPage":function(e){t.currentPage=e}}})],2)],1)},staticRenderFns:[]};var kt=o("VU/8")($t,xt,!1,function(t){o("ncI1")},null,null).exports,Lt={data:function(){return{orderType:1}},props:{userSaleRecord:{type:Array,default:[]}},computed:{orderList1:function(){var t=[];return this.userSaleRecord.forEach(function(e){"0"==e.is_received&&t.push(e)}),t},orderList2:function(){var t=[];return this.userSaleRecord.forEach(function(e){"1"==e.is_received&&"0"==e.is_commented&&t.push(e)}),t}},methods:{change:function(t){this.orderType=t},getOrderList:function(t){switch(t){case 1:return this.orderList1;case 2:return this.orderList2;case 3:return this.userSaleRecord}},getRecords:function(){var t,e=this;return this.$store.state.userSaleRecord.forEach(function(o){o.customerId==e.$cookieStore.getCookie("username")&&(t=o)}),t},handleConfirmReceive:function(t){this.$emit("confirmReceive",t)}},components:{orderList:kt}},wt={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-card",{staticClass:"box-card"},[o("el-row",[o("el-col",{attrs:{span:8}},[o("el-badge",{staticClass:"item",attrs:{value:t.orderList1.length}},[o("el-button",{attrs:{type:"text"},on:{click:function(e){t.change(1)}}},[t._v("待收货")])],1)],1),t._v(" "),o("el-col",{attrs:{span:8}},[o("el-badge",{staticClass:"item",attrs:{value:t.orderList2.length}},[o("el-button",{attrs:{type:"text"},on:{click:function(e){t.change(2)}}},[t._v("待评价")])],1)],1),t._v(" "),o("el-badge",{staticClass:"item",attrs:{value:t.userSaleRecord.length}},[o("el-button",{attrs:{type:"text"},on:{click:function(e){t.change(3)}}},[t._v("我的订单")])],1)],1)],1),t._v(" "),o("el-card",[o("order-list",{attrs:{"order-list":t.getOrderList(t.orderType),type:t.orderType},on:{confirmReceive:t.handleConfirmReceive}})],1)],1)},staticRenderFns:[]};var Ct={data:function(){return{}},computed:{userRecord:function(){return this.$store.state.customer.customerRecord},saleRecord:function(){var t,e=this;return this.$store.state.userSaleRecord.forEach(function(o){o.customerId==e.$cookieStore.getCookie("username")&&(t=o.saleRecord)}),t},totalMoney:function(){return this.$store.state.customer.customerInfo[0].total_money}},created:function(){this.$store.dispatch("loadCustomerInfo"),this.$store.dispatch("loadCustomerRecord"),console.log(this.$store.state.customer.customerRecord)},methods:{getRecords:function(){var t,e=this;return this.$store.state.userSaleRecord.forEach(function(o){o.customerId==e.$cookieStore.getCookie("username")&&(t=o)}),t},handleConfirmReceive:function(t){var e=this;this.$axios.post("/api/goods/confirmReceive",{recordId:t}).then(function(t){e.$message({message:"确认成功",type:"success"})}),this.$store.dispatch("loadCustomerRecord")},handleLogout:function(){this.$cookieStore.delCookie("username"),this.$router.push({path:"/"})},getRecordsFromTo:function(t,e){var o=[];return this.saleRecord.forEach(function(s){s.record_time>=t&&s.record_time<=e&&o.push(s)}),o}},components:{userInfo:_t,orderPane:o("VU/8")(Lt,wt,!1,function(t){o("ZBMj")},null,null).exports}},Rt={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-row",[o("el-col",{attrs:{span:8,offset:8}},[o("user-info",{attrs:{totalMoney:t.totalMoney,"user-id":t.$cookieStore.getCookie("username")},on:{logout:t.handleLogout}})],1)],1),t._v(" "),o("br"),t._v(" "),o("br"),t._v(" "),o("el-row",[o("el-col",{attrs:{span:8,offset:8}},[o("order-pane",{attrs:{"user-sale-record":t.userRecord},on:{confirmReceive:t.handleConfirmReceive}})],1)],1)],1)},staticRenderFns:[]};var St=o("VU/8")(Ct,Rt,!1,function(t){o("5oSM")},null,null).exports,Dt={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-row",[o("el-col",{attrs:{span:6,offset:6}},[o("el-button",{attrs:{round:""},on:{click:function(e){t.goto("habit")}}},[t._v("我的购物习惯")])],1),t._v(" "),o("el-col",{attrs:{span:6}},[o("el-button",{attrs:{round:""},on:{click:function(e){t.goto("consume")}}},[t._v("我的消费情况")])],1)],1),t._v(" "),o("br"),t._v(" "),o("router-view")],1)},staticRenderFns:[]};var Ft=o("VU/8")({data:function(){return{}},methods:{goto:function(t){this.$router.push({path:"/sale/user-shopping-chart/"+t})}},components:{}},Dt,!1,function(t){o("m2/m")},null,null).exports,Et={data:function(){return{habitData:[],typeNames:[]}},created:function(){this.init()},mounted:function(){this.drawLine()},methods:{drawLine:function(){var t=this.$echarts.init(document.getElementById("myChart")),e={title:{text:"我的购物习惯",left:"center"},tooltip:{trigger:"item",formatter:"{b}({d}%)"},legend:{bottom:10,left:"center",data:this.typeNames},series:[{type:"pie",radius:"65%",center:["50%","50%"],selectedMode:"single",data:this.habitData,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};t.setOption(e)},init:function(){var t=this;this.$store.dispatch("loadCustomerHabit"),this.$store.state.goods.typeNames.forEach(function(e,o){t.habitData.push({name:e.type_name,value:t.$store.state.customer.customerHabit[o]}),t.typeNames.push(e.type_name)})}}},Nt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-row",[e("el-col",{attrs:{span:16,offset:4}},[e("el-card",[e("div",{staticStyle:{width:"1000px",height:"500px"},attrs:{id:"myChart"}})])],1)],1)],1)},staticRenderFns:[]};var It=o("VU/8")(Et,Nt,!1,function(t){o("Xw8S")},null,null).exports,Vt={data:function(){return{year:new Date}},mounted:function(){this.drawLine()},methods:{update:function(){var t=this;this.$store.dispatch("loadCustomerConsume",{year:this.year.getFullYear()}).then(function(){t.drawLine()})},drawLine:function(){var t=this.$echarts.init(document.getElementById("myChart")),e={title:{text:this.year.getFullYear()+"我的消费情况",left:"center"},tooltip:{trigger:"axis"},legend:{},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],name:"月份"},yAxis:{name:"消费/元"},series:[{data:this.$store.getters.getCustomerConsumeByYear(this.year.getFullYear()),type:"line",name:"消费"}]};t.setOption(e)}}},Ot={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-row",[o("el-col",{attrs:{span:16,offset:4}},[o("el-card",[o("el-date-picker",{attrs:{type:"year",placeholder:"选择年"},on:{change:t.update},model:{value:t.year,callback:function(e){t.year=e},expression:"year"}}),t._v(" "),o("div",{staticStyle:{height:"500px",width:"1000px"},attrs:{id:"myChart"}})],1)],1)],1)],1)},staticRenderFns:[]};var Gt=o("VU/8")(Vt,Ot,!1,function(t){o("yx9S")},null,null).exports,Tt={data:function(){return{isCollapse:!1}},props:{active:String},methods:{handleOpen:function(t,e){},handleClose:function(t,e){},handleSelect:function(t,e){this.$emit("message",t),this.$router.push({path:"/manage/"+t})}}},zt={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.active,collapse:t.isCollapse,"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},on:{open:t.handleOpen,close:t.handleClose,select:t.handleSelect}},[o("el-submenu",{attrs:{index:"1"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-location"}),t._v(" "),o("span",{attrs:{slot:"title"},slot:"title"},[t._v("员工管理")])]),t._v(" "),o("el-menu-item-group",[o("el-menu-item",{attrs:{index:"employee-info"}},[t._v("员工信息")])],1)],2),t._v(" "),o("el-submenu",{attrs:{index:"2"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-location"}),t._v(" "),o("span",{attrs:{slot:"title"},slot:"title"},[t._v("店铺管理")])]),t._v(" "),o("el-menu-item-group",[o("el-menu-item",{attrs:{index:"sale-chart"}},[t._v("销售情况")]),t._v(" "),o("el-menu-item",{attrs:{index:"sale-linechart"}},[t._v("销售变化情况")]),t._v(" "),o("el-menu-item",{attrs:{index:"discount"}},[t._v("优惠活动")]),t._v(" "),o("el-menu-item",{attrs:{index:"stock"}},[t._v("商品库存")]),t._v(" "),o("el-menu-item",{attrs:{index:"goods-sale"}},[t._v("商品销量情况")])],1)],2)],1)},staticRenderFns:[]};var Bt={data:function(){return{editableTabsValue:"",editableTabs:[],tabIndex:2,active:""}},methods:{handleTabsEdit:function(t,e){if("add"===e){var o=++this.tabIndex+"";this.editableTabs.push({title:"New Tab",name:o,content:"New Tab content"}),this.editableTabsValue=o}if("remove"===e){var s=this.editableTabs,r=this.editableTabsValue;r===t&&s.forEach(function(e,o){if(e.name===t){var i=s[o+1]||s[o-1];i&&(r=i.name)}}),this.editableTabsValue=r,this.editableTabs=s.filter(function(e){return e.name!==t})}},handleRemove:function(t){this.refresh()},select:function(t){this.active=t.name,this.$router.push({path:"/manage/"+t.name})},handleSelect:function(t){var e=this,o=t,s=!1;this.editableTabs.forEach(function(t){t.name==o&&(e.editableTabsValue=o,s=!0)}),0==s&&(this.editableTabs.push({title:t,name:o,content:t}),this.editableTabsValue=o)},refresh:function(){this.$router.push({path:"/manage/"+this.editableTabsValue})}},created:function(){this.$store.dispatch("loadCurrentMonthRecord");var t=this.$router.currentRoute.fullPath.split("/"),e=t[t.length-1];this.editableTabs.push({name:e,title:e}),this.editableTabsValue=e,this.active=this.$router.currentRoute.path.split("/").pop()},components:{sidemenu:o("VU/8")(Tt,zt,!1,function(t){o("FTPN")},null,null).exports}},Pt={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("h1",[t._v("后台管理")]),t._v(" "),o("el-container",[o("el-aside",{attrs:{width:"250px"}},[o("sidemenu",{attrs:{active:t.active},on:{message:t.handleSelect}})],1),t._v(" "),o("el-container",[o("el-tabs",{attrs:{type:"card",editable:""},on:{edit:t.handleTabsEdit,"tab-click":t.select,"tab-remove":t.handleRemove},model:{value:t.editableTabsValue,callback:function(e){t.editableTabsValue=e},expression:"editableTabsValue"}},t._l(t.editableTabs,function(e,s){return o("el-tab-pane",{key:e.name,attrs:{label:e.title,name:e.name}},[t.editableTabsValue==e.name?o("router-view"):t._e()],1)}))],1)],1)],1)},staticRenderFns:[]};var Ut=o("VU/8")(Bt,Pt,!1,function(t){o("jrrI")},null,null).exports,At={data:function(){return{centerDialogVisible:!1}},methods:{handleClick:function(t){console.log(t)},editHandler:function(t){this.centerDialogVisible=!0,console.log(t.emp_id)}},props:{employeeList:{type:Array}}},jt={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.employeeList,border:""}},[o("el-table-column",{attrs:{prop:"emp_name",label:"姓名",width:"150"}}),t._v(" "),o("el-table-column",{attrs:{prop:"emp_gender",label:"性别",width:"120"}}),t._v(" "),o("el-table-column",{attrs:{sortable:"",prop:"emp_start_time",label:"入职时间",width:"120"}}),t._v(" "),o("el-table-column",{attrs:{sortable:"",prop:"emp_birthday",label:"生日",width:"120"}}),t._v(" "),o("el-table-column",{attrs:{prop:"emp_tel",label:"电话",width:"300"}}),t._v(" "),o("el-table-column",{attrs:{sortable:"",prop:"emp_salary",label:"薪水",width:"120"}}),t._v(" "),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){t.handleClick(e.row)}}},[t._v("查看")]),t._v(" "),o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){t.editHandler(e.row)}}},[t._v("编辑")])]}}])})],1),t._v(" "),o("el-dialog",{attrs:{title:"提示",visible:t.centerDialogVisible,width:"30%",center:""},on:{"update:visible":function(e){t.centerDialogVisible=e}}},[o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.centerDialogVisible=!1}}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.centerDialogVisible=!1}}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]};var Yt={data:function(){return{employeeList:[]}},created:function(){var t=this;this.$axios.get("/api/emp/getEmp").then(function(e){t.employeeList=e.data})},components:{employeeList:o("VU/8")(At,jt,!1,function(t){o("HHep")},null,null).exports}},Mt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("employee-list",{attrs:{"employee-list":this.employeeList}})],1)},staticRenderFns:[]};var Ht=o("VU/8")(Yt,Mt,!1,function(t){o("9+aN")},null,null).exports,qt={data:function(){return{}},components:{fanChart:$}},Jt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("fan-chart")],1)},staticRenderFns:[]};var Wt=o("VU/8")(qt,Jt,!1,function(t){o("BjrA")},null,null).exports,Xt={data:function(){return{}},components:{lineChart:L}},Qt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("line-chart")],1)},staticRenderFns:[]};var Kt=o("VU/8")(Xt,Qt,!1,function(t){o("zxtR")},null,null).exports,Zt={data:function(){return{}},props:{discountList:{type:Array}},methods:{remove:function(t){this.$emit("remove",t)}}},te={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.discountList,border:""}},[o("el-table-column",{attrs:{prop:"goods_name",label:"商品名称",width:"200"}}),t._v(" "),o("el-table-column",{attrs:{sortable:"",prop:"discount",label:"折扣",width:"120"}}),t._v(" "),o("el-table-column",{attrs:{sortable:"",prop:"start_time",label:"开始时间",width:"180"}}),t._v(" "),o("el-table-column",{attrs:{sortable:"",prop:"end_time",label:"结束时间",width:"180"}}),t._v(" "),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){t.remove(e.row.discount_id)}}},[t._v("删除")])]}}])})],1)],1)},staticRenderFns:[]};var ee={data:function(){return{dialogVisible:!1,goods_name:"",seem:!1}},computed:{showList:function(){var t=this,e=[];return this.discountList.forEach(function(o){-1!=o.goods_name.indexOf(t.goods_name)&&e.push(o)}),e},discountList:function(){var t=this,e=[];return this.$store.state.goods.discountList.forEach(function(o){e.push({goods_id:o.goods_id,goods_name:t.$store.getters.getGoodsById(o.goods_id).goods_name,discount:o.discount,start_time:new Date(1*o.start_time).datetime(),end_time:new Date(1*o.end_time).datetime(),discount_id:o.discount_id})}),e},recommendDiscountList:function(){var t=this,e=[];return this.$store.state.goods.recommendDiscountList.forEach(function(o){e.push({goods_id:o.goods_id,goods_name:t.$store.getters.getGoodsById(o.goods_id).goods_name,discount:o.discount,start_time:new Date(1*o.start_time).datetime(),end_time:new Date(1*o.end_time).datetime(),discount_id:o.discount_id})}),e}},created:function(){console.log(this.$store.state.goods.discountList),console.log(this.$store.getters.getGoodsById("1")),this.$store.dispatch("loadDiscountList"),this.$store.dispatch("loadGoods"),this.$store.commit("loadRecommendDiscountList",[])},methods:{add:function(){var t=this;this.dialogVisible=!1,this.$axios.post("/api/goods/addDiscount",{discount_list:this.recommendDiscountList}).then(function(e){t.$store.dispatch("loadDiscountList"),t.$store.commit("loadRecommendDiscountList",[])}),this.$message({message:"添加成功",type:"success"})},handleAdd:function(t){this.recommendDiscountList.push({goods_id:this.$store.getters.getGoodsByName(t.goodsName).goods_id,goods_name:t.goodsName,discount:t.discount,start_time:t.startTime.datetime(),end_time:new Date(t.startTime.getTime()+24*t.stayDays*60*60*1e3).datetime()}),console.log(this.$store.getters.getGoodsByName(t.goodsName)),this.$message({message:"添加成功",type:"success"}),this.seem=!1},handleCancel:function(){this.seem=!1,console.log("cancel")},handleRemove:function(t){var e=this;this.$axios.post("/api/goods/deleteDiscount",{discount_id:t}).then(function(t){e.$store.dispatch("loadDiscountList")})},handleRemove2:function(t){}},components:{discountList:o("VU/8")(Zt,te,!1,function(t){o("NzR6")},null,null).exports,discountForm:Q}},oe={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-row",[o("el-col",[o("el-col",{attrs:{span:8}},[o("el-input",{attrs:{placeholder:"请输入商品名"},model:{value:t.goods_name,callback:function(e){t.goods_name=e},expression:"goods_name"}})],1),t._v(" "),o("h1",[t._v("当前优惠活动")]),t._v(" "),o("discount-list",{attrs:{"discount-list":t.showList},on:{remove:t.handleRemove}})],1)],1),t._v(" "),o("br"),t._v(" "),o("el-row",[o("el-col",[o("el-button",{attrs:{type:"primary",round:""},on:{click:function(e){t.dialogVisible=!0}}},[t._v("生成优惠活动")])],1)],1),t._v(" "),o("el-dialog",{attrs:{title:"生成优惠活动",visible:t.dialogVisible,width:"50%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[o("discount-list",{attrs:{"discount-list":t.recommendDiscountList},on:{remove:t.handleRemove2}}),t._v(" "),o("br"),t._v(" "),o("el-row",[o("el-col",{attrs:{span:8,offset:8}},[o("el-popover",{attrs:{placement:"top",width:"400",trigger:"click"},model:{value:t.seem,callback:function(e){t.seem=e},expression:"seem"}},[o("discount-form",{on:{add:t.handleAdd,cancel:t.handleCancel}}),t._v(" "),o("el-button",{attrs:{slot:"reference"},slot:"reference"},[t._v("添加")])],1)],1)],1),t._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("添加优惠活动")])],1)],1)],1)},staticRenderFns:[]};var se=o("VU/8")(ee,oe,!1,function(t){o("YiiO")},null,null).exports,re={data:function(){return{currentPage:1,pageSize:5}},computed:{pageList:function(){for(var t=[],e=(this.currentPage-1)*this.pageSize,o=e+this.pageSize<this.stockList.length?e+this.pageSize:this.stockList.length,s=e;s<o;s++)t.push(this.stockList[s]);return t}},props:{stockList:{type:Array}}},ie={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.pageList,border:""}},[o("el-table-column",{attrs:{prop:"goods_name",label:"商品名称",width:"250"}}),t._v(" "),o("el-table-column",{attrs:{sortable:"",prop:"stock",label:"库存",width:"180"}})],1),t._v(" "),o("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageSize,layout:"total, prev, pager, next",total:t.stockList.length},on:{"update:currentPage":function(e){t.currentPage=e}}})],1)},staticRenderFns:[]};var ne=o("VU/8")(re,ie,!1,function(t){o("xwLN")},null,null).exports,ae={data:function(){return{currentPage:1,pageSize:5,importData:[]}},computed:{pageList:function(){for(var t=[],e=(this.currentPage-1)*this.pageSize,o=e+this.pageSize<this.importList.length?e+this.pageSize:this.importList.length,s=e;s<o;s++)t.push(this.importList[s]);return t},myList:function(){return this.importList}},created:function(){var t=this;this.importList.forEach(function(e){t.importData.push(e.amount)})},props:{importList:{type:Array}}},ce={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.pageList,border:""}},[o("el-table-column",{attrs:{prop:"goods_name",label:"商品名称",width:"250"}}),t._v(" "),o("el-table-column",{attrs:{label:"进货量",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-input",{model:{value:t.importData[e.$index],callback:function(o){t.$set(t.importData,e.$index,o)},expression:"importData[scope.$index]"}})]}}])})],1),t._v(" "),o("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageSize,layout:"total, prev, pager, next",total:t.importList.length},on:{"update:currentPage":function(e){t.currentPage=e}}})],1)},staticRenderFns:[]};var de={data:function(){return{dialogVisible:!1,goods_name:"",importList:[{goods_name:"1",goods_id:"2",amount:"10"}]}},computed:{showList:function(){var t=this,e=[];return this.stockList.forEach(function(o){-1!=o.goods_name.indexOf(t.goods_name)&&e.push(o)}),e},stockList:function(){var t=this,e=[];return this.$store.state.goods.stockList.forEach(function(o){e.push({goods_name:t.$store.getters.getGoodsById(o.goods_id).goods_name,stock:o.remain,goods_id:o.goods_id})}),e}},created:function(){this.$store.dispatch("loadStockList")},methods:{add:function(){}},components:{stockList:ne,importList:o("VU/8")(ae,ce,!1,function(t){o("oLzq")},null,null).exports}},le={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-row",[o("el-col",[o("el-col",{attrs:{span:8}},[o("el-input",{attrs:{placeholder:"请输入商品名"},model:{value:t.goods_name,callback:function(e){t.goods_name=e},expression:"goods_name"}})],1),t._v(" "),o("h1",[t._v("商品库存")]),t._v(" "),o("stock-list",{attrs:{"stock-list":t.stockList}})],1)],1),t._v(" "),o("br"),t._v(" "),o("el-row",[o("el-col",[o("el-button",{attrs:{type:"primary",round:""},on:{click:function(e){t.dialogVisible=!0}}},[t._v("生成进货订单")])],1)],1),t._v(" "),o("el-dialog",{attrs:{title:"进货订单",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[o("import-list",{attrs:{"import-list":t.importList}}),t._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var ue=o("VU/8")(de,le,!1,function(t){o("ReGl")},null,null).exports,me={data:function(){return{currentPage:1,pageSize:5}},computed:{pageList:function(){for(var t=[],e=(this.currentPage-1)*this.pageSize,o=e+this.pageSize<this.goodsSaleList.length?e+this.pageSize:this.goodsSaleList.length,s=e;s<o;s++)t.push(this.goodsSaleList[s]);return t}},props:{goodsSaleList:{type:Array}}},pe={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.pageList,border:""}},[o("el-table-column",{attrs:{prop:"goods_name",label:"商品名称",width:"250"}}),t._v(" "),o("el-table-column",{attrs:{prop:"num",label:"本月销量",width:"250"}})],1),t._v(" "),o("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageSize,layout:"total, prev, pager, next",total:t.goodsSaleList.length},on:{"update:currentPage":function(e){t.currentPage=e}}})],1)},staticRenderFns:[]};var ge={data:function(){return{}},created:function(){console.log(this.$store.state.saleRecord.currentMonthRecord)},computed:{goodsSaleList:function(){return this.$store.state.saleRecord.currentMonthRecord}},components:{goodsSaleList:o("VU/8")(me,pe,!1,function(t){o("XV8W")},null,null).exports}},he={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("goods-sale-list",{attrs:{"goods-sale-list":this.goodsSaleList}})],1)},staticRenderFns:[]};var fe=o("VU/8")(ge,he,!1,function(t){o("9q8W")},null,null).exports;s.default.use(n.a);var _e=new n.a({mode:"history",routes:[{path:"/",name:"login",component:l},{path:"/demo",name:"demo",component:G},{path:"/demo2",name:"demo2",component:tt},{path:"/sale",component:st,children:[{path:"",redirect:"goods-sale"},{path:"goods-sale",component:ct},{path:"goods/:id",component:ut},{path:"checkout",component:gt},{path:"user-center",component:St},{path:"user-shopping-chart",component:Ft,children:[{path:"",component:It},{path:"habit",component:It},{path:"consume",component:Gt}]}]},{path:"/manage",component:Ut,children:[{path:"",redirect:"employee-info"},{path:"employee-info",component:Ht},{path:"sale-chart",component:Wt},{path:"sale-linechart",component:Kt},{path:"discount",component:se},{path:"stock",component:ue},{path:"goods-sale",component:fe}]}],scrollBehavior:function(t,e,o){return{x:0,y:0}}}),ve=o("zL8q"),ye=o.n(ve),be=(o("tvR6"),o("XLwt")),$e=o.n(be),xe=o("mtWM"),ke=o.n(xe);function Le(t){var e,o=new RegExp("(^| )"+t+"=([^;]*)(;|$)");return(e=document.cookie.match(o))?e[2]:null}var we=o("NYxO"),Ce=o("v/L+");var Re={state:{shoppingCart:[]},getters:{totalPrice:(t,e,o)=>{var s=0;return t.shoppingCart.forEach(t=>{s+=t.amount*e.getGoodsById(t.goods_id).goods_price*e.getDiscountById(t.goods_id)}),s.toFixed(2)},getCartNumById:t=>e=>{var o=0;return t.shoppingCart.forEach(t=>{t.goods_id==e&&(o=t.amount)}),o}},actions:{buyGoods:t=>{(new s.default).$axios.post("/api/goods/buyGoods",{shoppingCart:t.state.shoppingCart,member_user:(new s.default).$cookieStore.getCookie("username"),totalPrice:t.rootGetters.totalPrice}).then(e=>{t.commit("clearCart")})},addOneItem:(t,e)=>{t.rootGetters.getGoodsStockById(e)>=t.rootGetters.getCartNumById(e)+1?(t.commit("addOneItem",e),(new s.default).$message({message:"添加购物车成功",type:"success"})):(new s.default).$message({message:"库存不足"})},addItems:(t,e)=>{var o=e.amount,r=e.goods_id;t.rootGetters.getGoodsStockById(r)>=t.rootGetters.getCartNumById(r)+o?(t.commit("addItems",e),(new s.default).$message({message:"添加购物车成功",type:"success"})):(new s.default).$message({message:"库存不足"})}},mutations:{clearCart:t=>{t.shoppingCart=[]},addOneItem:(t,e)=>{var o=e,s=!1;t.shoppingCart.forEach(t=>{t.goods_id==o&&(t.amount++,s=!0)}),0==s&&t.shoppingCart.push({goods_id:o,amount:1})},addItems:(t,e)=>{var o=!1,s=e.amount,r=e.goods_id;t.shoppingCart.forEach(t=>{t.goods_id==r&&(t.amount+=s,o=!0)}),0==o&&t.shoppingCart.push({goods_id:r,amount:s})},decreaseOneItem:(t,e)=>{var o,s=!1;t.shoppingCart.forEach((t,r)=>{t.goods_id==e&&(t.amount--,0==t.amount&&(s=!0,o=r))}),s&&t.shoppingCart.splice(o,1)},removeItem:(t,e)=>{var o;t.shoppingCart.forEach((t,s)=>{t.goods_id==e&&(o=s)}),t.shoppingCart.splice(o,1)}}};var Se={state:{goodsList:[],typeNames:[],discountList:[],recommendDiscountList:[],stockList:[],recommendGoodsList:[]},getters:{getGoodsById:t=>e=>t.goodsList.find(t=>t.goods_id==e),getGoodsByName:t=>e=>{var o;return t.goodsList.forEach(t=>{t.goods_name==e&&(o=t)}),o},getUnDiscountGoodsNameList:t=>{var e=[];return t.goodsList.forEach(o=>{var s=!1;t.discountList.forEach(t=>{t.goods_id==o.goods_id&&(s=!0)}),0==s&&e.push({value:o.goods_name})}),e},isDiscount:t=>e=>{var o=!1;return t.discountList.forEach(t=>{t.goods_id==e&&(o=!0)}),o},getDiscountById:t=>e=>{var o=1;return t.discountList.forEach(t=>{t.goods_id==e&&(o=t.discount)}),o},getGoodsNameList:t=>{var e=[];return t.goodsList.forEach(t=>{e.push({value:t.goods_name})}),e},getGoodsStockById:t=>e=>{var o;return t.stockList.forEach(t=>{t.goods_id==e&&(o=t.remain)}),o}},actions:{loadGoods:t=>{(new s.default).$axios.get("/api/goods/getGoods").then(e=>{t.commit("loadGoods",e.data)})},loadTypeNames:t=>{(new s.default).$axios.get("/api/goods/getGoodsType").then(e=>{t.commit("loadTypeNames",e.data)})},loadDiscountList:t=>{(new s.default).$axios.get("/api/goods/getDiscount").then(e=>{t.commit("loadDiscountList",e.data)})},loadRecommendDiscountList:t=>{(new s.default).$axios.get("/api/goods/getRecommendDiscountList").then(e=>{t.commit("loadRecommendDiscountList",e.data)})},loadStockList:t=>{(new s.default).$axios.get("/api/goods/getStock").then(e=>{t.commit("loadStockList",e.data)})},loadRecommendGoodsList:t=>{(new s.default).$axios.get("/api/customer/getSimilarUser",{params:{customer_id:(new s.default).$cookieStore.getCookie("username")}}).then(e=>{var o=[];e.data.forEach(e=>{o.push(t.rootGetters.getGoodsById(e))}),t.commit("loadRecommendGoodsList",o)})}},mutations:{loadGoods:(t,e)=>{t.goodsList=e},loadTypeNames:(t,e)=>{t.typeNames=e},loadDiscountList:(t,e)=>{t.discountList=e},loadRecommendDiscountList:(t,e)=>{t.recommendDiscountList=e},loadStockList:(t,e)=>{t.stockList=e},loadRecommendGoodsList:(t,e)=>{t.recommendGoodsList=e}}};var De={state:{comments:[]},getters:{getCommentByGoodsId:t=>e=>t.comments.filter(t=>t.goods_id==e)},actions:{loadComments(t){(new s.default).$axios.get("/api/comment/getAllComment").then(e=>{t.commit("loadComments",e.data)})}},mutations:{loadComments(t,e){t.comments=e}}};var Fe={state:{currentMonthRecord:[]},getters:{getMonthRecordById:t=>e=>{var o=0;return t.currentMonthRecord.forEach(t=>{t.goods_id==e&&(o=t.num)}),o}},actions:{loadCurrentMonthRecord:({state:t,commit:e,rootState:o,rootGetters:r})=>{(new s.default).$axios.get("/api/record/getCurrentMonthRecord").then(t=>{var s=o.goods.goodsList.length,i=[];for(let t=1;t<=s;t++)i.push({goods_id:t,goods_name:r.getGoodsById(t).goods_name,num:0});t.data.forEach(t=>{i.forEach(e=>{t.goods_id==e.goods_id&&(e.num=t.num)})});for(let t=0;t<s-1;t++)for(let e=t;e<s;e++)if(i[t].num<i[e].num){var n=i[t];i[t]=i[e],i[e]=n}e("loadCurrentMonthRecord",i)})}},mutations:{loadCurrentMonthRecord:(t,e)=>{t.currentMonthRecord=e}}};var Ee={state:{yearRecord:[],yearRecord2:[],userYearRecord:[]},getters:{getRecordByYear:t=>e=>t.yearRecord.filter(t=>t.year==e),getRecord2ByYear:t=>e=>t.yearRecord2.filter(t=>t.year==e),getUserRecordByYear:t=>e=>t.userYearRecord.filter(t=>t.year==e)},actions:{loadYearRecord:({state:t,commit:e,rootState:o,rootGetters:r},i)=>{var n=i.year;(new s.default).$axios.get("/api/record/getYearRecord",{params:{year:n}}).then(t=>{e("loadYearRecord",t.data)})},loadYearRecord2:({state:t,commit:e,rootState:o,rootGetters:r},i)=>{var n=i.year;(new s.default).$axios.get("/api/record/getYearRecord2",{params:{year:n}}).then(t=>{e("loadYearRecord2",t.data)})},loadUserYearRecord2:({state:t,commit:e,rootState:o,rootGetters:r},i)=>{var n=i.year;(new s.default).$axios.get("/api/record/getUserYearRecord",{params:{year:n}}).then(t=>{e("loadUserYearRecord2",t.data)})}},mutations:{loadYearRecord:(t,e)=>{var o=!1;t.yearRecord.forEach(t=>{t.year==e.year&&(t.data=e.data,o=!0)}),0==o&&t.yearRecord.push(e)},loadYearRecord2:(t,e)=>{var o=!1;t.yearRecord2.forEach(t=>{t.year==e.year&&(t.data=e.data,o=!0)}),0==o&&t.yearRecord2.push(e)},loadUserYearRecord:(t,e)=>{var o=!1;t.userYearRecord.forEach(t=>{t.year==e.year&&(t.data=e.data,o=!0)}),0==o&&t.userYearRecord.push(e)}}};var Ne={state:{customerHabit:[],customerInfo:[],customerRecord:[],customerConsume:[]},getters:{getCustomerConsumeByYear:t=>e=>{var o;return t.customerConsume.forEach(t=>{t.year==e&&(o=t.data)}),o}},actions:{loadCustomerHabit:t=>{(new s.default).$axios.get("/api/customer/getHabitById",{params:{customer_id:(new s.default).$cookieStore.getCookie("username")}}).then(e=>{t.commit("loadCustomerHabit",e.data)})},loadCustomerInfo:t=>{(new s.default).$axios.get("/api/customer/getCustomerInfo",{params:{customer_id:(new s.default).$cookieStore.getCookie("username")}}).then(e=>{t.commit("loadCustomerInfo",e.data)})},loadCustomerRecord:t=>{(new s.default).$axios.get("/api/user/getUserRecord",{params:{customer_id:(new s.default).$cookieStore.getCookie("username")}}).then(e=>{var o=[];e.data.forEach(t=>{o.push({record_id:t.record_id,record_time:t.record_time,goods:JSON.parse(t.content),total_price:t.total_price,is_received:t.is_received,is_commented:t.is_commented})}),t.commit("loadCustomerRecord",o)})},loadCustomerConsume:(t,e)=>{(new s.default).$axios.get("/api/user/getCustomerConsume",{params:{customer_id:(new s.default).$cookieStore.getCookie("username"),year:e.year}}).then(e=>{t.commit("loadCustomerConsume",e.data)})}},mutations:{loadCustomerHabit:(t,e)=>{t.customerHabit=e},loadCustomerInfo:(t,e)=>{t.customerInfo=e},loadCustomerRecord:(t,e)=>{t.customerRecord=e},loadCustomerConsume:(t,e)=>{var o=!1;t.customerConsume.forEach(t=>{t.year==e.year&&(t.data=e.data,o=!0)}),0==o&&t.customerConsume.push(e)}}};const Ie=new(o.n(Ce).a)({storage:window.localStorage});s.default.use(we.a);var Ve=new we.a.Store({modules:{cart:Re,goods:Se,comment:De,saleRecord:Fe,chartData:Ee,customer:Ne},state:{},getters:{goodsName(t){var e=[];return t.goodsList.forEach(t=>{e.push(t.goods_name)}),e},goodsAmountList(t){var e=[];return t.saleRecord.forEach(t=>{e.push(t.sale_amount)}),e},yearRecord(t){var e=[];return t.saleRecord.forEach(t=>{t.record_time>=new Date(2018)&&t.record_time<new Date(2019)&&e.push(t)}),e}},mutations:{loadGoodsType(t,e){t.goodsType=e}},actions:{},plugins:[Ie.plugin]});s.default.use(ye.a),s.default.use(we.a),s.default.config.productionTip=!1,s.default.prototype.$echarts=$e.a,s.default.prototype.$axios=ke.a,s.default.prototype.$cookieStore={getCookie:Le,setCookie:function(t,e,o){var s=new Date;s.setDate(s.getDate()+o),document.cookie=t+"="+escape(e)+(null==o?"":";expires="+s.toGMTString())},delCookie:function(t){var e=new Date;e.setTime(e.getTime()-1);var o=Le(t);null!=o&&(document.cookie=t+"="+o+";expires="+e.toGMTString())}},Date.prototype.datetime=function(){return this.getFullYear()+"-"+("0"+(this.getMonth()+1)).slice(-2)+"-"+this.getDate()+" "+this.getHours()+":"+("0"+this.getMinutes()).slice(-2)+":"+this.getSeconds()},new s.default({el:"#app",router:_e,store:Ve,components:{App:i},template:"<App/>"})},NzR6:function(t,e){},QNj8:function(t,e){},ReGl:function(t,e){},Rsaa:function(t,e){},S3dm:function(t,e){},Ugm9:function(t,e){},WpvQ:function(t,e){},XV8W:function(t,e){},Xw8S:function(t,e){},YiiO:function(t,e){},ZBMj:function(t,e){},"aj2/":function(t,e){},cTH5:function(t,e){},dku4:function(t,e){},ewro:function(t,e){},fKHu:function(t,e){},jrrI:function(t,e){},"m2/m":function(t,e){},ncI1:function(t,e){},nemT:function(t,e){},oLzq:function(t,e){},ovJf:function(t,e){},"qA/Q":function(t,e){},tvR6:function(t,e){},vGjf:function(t,e){},xwLN:function(t,e){},yx9S:function(t,e){},yyiv:function(t,e){},zR73:function(t,e){},zxtR:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.066404c63e979b1dbc6e.js.map